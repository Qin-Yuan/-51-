C51 COMPILER V9.54   KEY                                                                   04/01/2021 14:02:03 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE KEY
OBJECT MODULE PLACED IN .\Objects\key.obj
COMPILER INVOKED BY: E:\Kiel 5\C51\BIN\C51.EXE key.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\key.ls
                    -t) TABS(2) OBJECT(.\Objects\key.obj)

line level    source

   1          /*************************************************************************************
   2          
   3          *
   4          ÊµÑéÏÖÏó£ºÏÂÔØ³ÌÐòºó°´ÏÂK1°´¼ü¿ÉÒÔ¶ÔD1Ð¡µÆ×´Ì¬È¡·´
   5          ½ÓÏßËµÃ÷£º (¾ßÌå½ÓÏßÍ¼¿É¼û¿ª·¢¹¥ÂÔ¶ÔÓ¦ÊµÑéµÄ¡°ÊµÑéÏÖÏó¡±ÕÂ½Ú)
   6                 1£¬µ¥Æ¬»ú-->LED&½»Í¨µÆÄ£¿é
   7                 P00-->D1
   8                 2£¬µ¥Æ¬»ú-->¶ÀÁ¢°´¼üÄ£¿é
   9                 P10-->K1 
  10          ×¢ÒâÊÂÏî£º                    
  11          
  12                                
  13          **************************************************************************************
  14          
  15          */
  16          
  17          #include "reg52.h"
  18          
  19          
  20          sbit k1=P3^4;  //¶¨ÒåP10¿ÚÊÇk1
  21          sbit k2=P3^5;  //¶¨ÒåP10¿ÚÊÇk1
  22          sbit k3=P3^6;  //¶¨ÒåP10¿ÚÊÇk1
  23          sbit k4=P3^7;  //¶¨ÒåP10¿ÚÊÇk1
  24          sbit relay1 = P2^2;  //Ë®Ñ­»·¼ÌµçÆ÷
  25          sbit relay2 = P2^1;  //¼ÓÈÈ¼ÌµçÆ÷
  26          sbit relay3 = P2^0;  //³äÑõ¼ÌµçÆ÷
  27          
  28          /*******************************************************************************
  29          * º¯ Êý Ãû         : delay
  30          * º¯Êý¹¦ÄÜ       : ÑÓÊ±º¯Êý£¬i=1Ê±£¬´óÔ¼ÑÓÊ±10us
  31          *******************************************************************************/
  32          void delay(uint i)
  33          {
  34   1        while(i--); 
  35   1      }
  36          
  37          /*******************************************************************************
  38          * º¯ Êý Ãû         : keypros
  39          * º¯Êý¹¦ÄÜ       : °´¼ü´¦Àíº¯Êý£¬ÅÐ¶Ï°´¼üK1ÊÇ·ñ°´ÏÂ
  40          *******************************************************************************/
  41          uint keypros()
  42          {
  43   1        if(k1==0)     //¼ì²â°´¼üK1ÊÇ·ñ°´ÏÂ
  44   1        { 
  45   2          delay(1000);   //Ïû³ý¶¶¶¯ Ò»°ã´óÔ¼10ms
  46   2          if(k1==0)  //ÔÙ´ÎÅÐ¶Ï°´¼üÊÇ·ñ°´ÏÂ
  47   2          {
  48   3            return 1;
  49   3          }
  50   2          while(!k1);  //¼ì²â°´¼üÊÇ·ñËÉ¿ª
  51   2        }   
  52   1        else if(k2==0)      //¼ì²â°´¼üK1ÊÇ·ñ°´ÏÂ
  53   1        { 
  54   2          delay(1000);   //Ïû³ý¶¶¶¯ Ò»°ã´óÔ¼10ms
C51 COMPILER V9.54   KEY                                                                   04/01/2021 14:02:03 PAGE 2   

  55   2          if(k2==0)  //ÔÙ´ÎÅÐ¶Ï°´¼üÊÇ·ñ°´ÏÂ
  56   2          {
  57   3            return 2;
  58   3          }
  59   2          while(!k2);  //¼ì²â°´¼üÊÇ·ñËÉ¿ª
  60   2        } 
  61   1        else if(k3==0)      //¼ì²â°´¼üK1ÊÇ·ñ°´ÏÂ
  62   1        { 
  63   2          delay(1000);   //Ïû³ý¶¶¶¯ Ò»°ã´óÔ¼10ms
  64   2          if(k3==0)  //ÔÙ´ÎÅÐ¶Ï°´¼üÊÇ·ñ°´ÏÂ
  65   2          {
  66   3            return 3;
  67   3          }
  68   2          while(!k3);  //¼ì²â°´¼üÊÇ·ñËÉ¿ª
  69   2        } 
  70   1        else if(k4==0)      //¼ì²â°´¼üK1ÊÇ·ñ°´ÏÂ
  71   1        { 
  72   2          delay(1000);   //Ïû³ý¶¶¶¯ Ò»°ã´óÔ¼10ms
  73   2          if(k4==0)  //ÔÙ´ÎÅÐ¶Ï°´¼üÊÇ·ñ°´ÏÂ
  74   2          {
  75   3            return 4;
  76   3          }
  77   2          while(!k4);  //¼ì²â°´¼üÊÇ·ñËÉ¿ª
  78   2        } 
  79   1        return 0;
  80   1      }
  81          
  82          /*******************************************************************************
  83          * º¯ Êý Ãû       : main
  84          * º¯Êý¹¦ÄÜ     : Ö÷º¯Êý
  85          * Êä    Èë       : ÎÞ
  86          * Êä    ³ö       : ÎÞ
  87          *******************************************************************************/
  88          void main()
  89          { 
  90   1        int n;
  91   1        while(1)
  92   1        { 
  93   2            n=keypros();  //°´¼ü´¦Àíº¯Êý
  94   2            if(n==1)
  95   2            {relay1=0;}
  96   2            else if(n==2)
  97   2            {relay2=0;}
  98   2            else if(n==3)
  99   2            {relay3=0;}
 100   2            else if(n==4)
 101   2            {
 102   3              relay1 = 1;  //Ë®Ñ­»·¼ÌµçÆ÷
 103   3              relay2 = 1;  //¼ÓÈÈ¼ÌµçÆ÷
 104   3              relay3 = 1;  //³äÑõ¼ÌµçÆ
 105   3            }
 106   2            
 107   2        }   
 108   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    140    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
C51 COMPILER V9.54   KEY                                                                   04/01/2021 14:02:03 PAGE 3   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
